function Router() {
    function a() {
        var a = location.hash.substring(1);
        b(a)
    }
    function b(a, b) {
        function d() {
            return m = a, f && (l.trigger("cancel"), l.trigger("depart"), l.trigger("destroy"), k.cancel()), b && 0 === b.indexOf("detail_slide") && $(".main_works,.detail_info").hide(), "detail_bottom" === b ? ($(".main_detail").remove(), l.trigger("load", {
                mode: "detail_bottom"
            }), void c("works")) : (f = !0, l.trigger("depart", a, b), k.load(a), b && 0 === b.indexOf("detail_slide") ? c(a) : b && 0 === b.indexOf("workstop") && c(a), o.value = 0, void $(o).stop().animate({
                value: 1
            }, {
                duration: j,
                easing: "linear",
                step: function (a) {
                    n > a && l.trigger("progress", a)
                },
                complete: function () {
                    1 === n && e()
                }
            }))
        }
        if (clearTimeout(g), a || (a = "index"), a !== m) {
            if (-1 === i.indexOf(a) && 0 !== a.indexOf("detail")) return void(location.href = "404.html");
            if (window.router.trigger("off_nav"), "detail_bottom" === b) return void d();
            var p = 0;
            $nav.hasClass("nav_open") && (p = 850, l.trigger("nav_depart", a, b)), clearTimeout(h), h = setTimeout(function () {
                l.trigger("before_depart");
                var a = Window.scrollTop,
                    b = 40 * Math.sqrt(a);
                smoothScrollTo(0, {
                    duration: b,
                    easing: "easeOutQuad"
                }), g = setTimeout(d, b)
            }, p)
        }
    }
    function c(b) {
        $window.off("hashchange", a), location.hash = b, setTimeout(function () {
            $window.on("hashchange", a)
        }, 100)
    }
    function d(a) {
        n = a, n < o.value && l.trigger("progress", a), 1 === n && 1 === o.value && e()
    }
    function e() {
        l.trigger("progress", 1);
        var a = k.getContent();
        f = !1, l.trigger("load", {
            id: m,
            html: a
        })
    }
    var f, g, h, i = ["", "index", "works", "detail", "member", "service", "about"],
        j = 1e3,
        k = PageLoader(),
        l = EventDispatcher(),
        m = "index",
        n = 0,
        o = {
            value: 0
        };
    return k.on({
        progress: d
    }), $window.on("hashchange", a), setTimeout(function () {
        a()
    }, 0), {
        departFor: b,
        on: l.on,
        off: l.off,
        trigger: l.trigger
    }
}
function PageLoader() {
    function a(a) {
        a="test";
        i = a;
        var d = a + "";
        if (t[a] && "about" !== a) return k = t[a], void setTimeout(function () {
            u.trigger("progress", 1)
        }, 0);
        if (p = !1, $.ajax({
            url: d,
            dataType: "html"
        }).done(c).fail(function () {
            //location.href = "404.html"
        }), "about" === a) {
            m = !1;
            var e = {
                center: new google.maps.LatLng(35.655253, 139.707047),
                zoom: 13,
                disableDefaultUI: !0,
                mapTypeId: google.maps.MapTypeId.SATELLITE
            };
            window.aboutMap = new google.maps.Map(document.getElementById("map"), e), window.aboutMap_zoomin = new google.maps.Map(document.getElementById("map_zoomin"), $.extend(e, {
                zoom: 16
            })), $.when(function () {
                var a = new $.Deferred;
                return n = google.maps.event.addListener(aboutMap, "tilesloaded", function () {
                    a.resolve()
                }), a.promise()
            }(), function () {
                var a = new $.Deferred;
                return o = google.maps.event.addListener(aboutMap_zoomin, "tilesloaded", function () {
                    a.resolve()
                }), a.promise()
            }()).done(b)
        }
    }
    function b() {
        function a() {
            p ? (u.trigger("progress", .99), setTimeout(function () {
                u.trigger("progress", 1)
            }, 100)) : setTimeout(a, 1e3)
        }
        google.maps.event.removeListener(n), google.maps.event.removeListener(o), a()
    }
    function c(a) {
        0 === i.indexOf("detail") && (a = a.replace(/(<video[\s\S]+\/video>)/i, '<script type="text/x-template">$1</script>')), j = $(a).filter("main"), u.trigger("progress", r), l = _.map(j.find("img").toArray(), function (a) {
            return a.src + "?hoi"
        }), h = new $.ImgLoader({
            srcs: l,
            pipesize: q
        }).on("progress", d).on("allload", e), h.load()
    }
    function d(a) {
        var b = a.loadedRatio,
            c = b * (1 - r) + r;
        "about" === i && (c *= 1 - s, m && (c += s)), 1 === c && (c = .999), u.trigger("progress", c)
    }
    function e() {
        k = j.html(), t[i] = k, p = !0, ("about" !== i || m) && u.trigger("progress", 1)
    }
    function f() {
        return k
    }
    function g() {
        h.kill()
    }
    var h, i, j, k, l, m, n, o, p, q = 5,
        r = .05,
        s = .5,
        t = {},
        u = EventDispatcher();
    return {
        load: a,
        cancel: g,
        getContent: f,
        on: u.on,
        off: u.off
    }
}
function SectionsManager() {
    function a() {
        p.pause && p.pause()
    }
    function b() {
        p.resume && p.resume()
    }
    function c(a, b) {
        return location.hash && location.hash.match(/detail\d+/) && router.trigger("off_nav"), $(".loading_progress").hide(), j = b, k.css({
            top: Window.height / 2 - 64.5,
            left: Window.width / 2 - 64.5,
            width: 129,
            height: 129
        }), scaleTimeline = new TimelineLite({
            paused: !0
        }), b && "workstop" == b ? (d(), void setTimeout(function () {
            $("#works_panel").fadeOut(800, function () {
                $(this).remove(), p.depart && p.depart()
            })
        }, 200)) : b && 0 === b.indexOf("detail_slide") ? (m.css({
            position: "fixed",
            left: 0,
            top: 0,
            width: Window.width - NAV_WIDTH_CLOSED,
            height: Window.height,
            overflow: "hidden",
            transformOrigin: Window.width / 2 + "px " + Window.height / 2 + "px"
        }), scaleTimeline.add(TweenMax.fromTo(m, 2, {
            scale: 1
        }, {
            scale: .5
        }, "easeInOutCubic"), 0).add(TweenMax.fromTo(m, .75, {
            opacity: 1
        }, {
            opacity: .5
        }, "easeInOutCubic"), 0), scaleTimeline.play(), void d()) : (p.depart && p.depart(), m.css({
            position: "fixed",
            left: 0,
            top: 0,
            width: Window.width - NAV_WIDTH_CLOSED,
            height: Window.height,
            overflow: "hidden",
            transformOrigin: Window.width / 2 + "px " + Window.height / 2 + "px"
        }), m.is(".main_works") && m.css({
            overflow: "visible"
        }), void setTimeout(function () {
            "about" === i ? ($("#map").css({
                scale: 0,
                opacity: 0
            }), TweenMax.set({
                scale: .3,
                x: 0,
                y: 0,
                opacity: 0
            }), scaleTimeline.add(TweenMax.fromTo($("#map_zoomin"), 2, {
                scale: 1
            }, {
                scale: .5
            }, "easeInOutCubic"), 0).add(TweenMax.fromTo($("#map_zoomin"), .85, {
                opacity: 1
            }, {
                opacity: 0
            }, "easeInOutCubic"), 0)) : scaleTimeline.add(TweenMax.fromTo(m, 2, {
                scale: 1
            }, {
                scale: .5,
                x: 0,
                y: 0
            }, "easeOutQuint"), 0).add(TweenMax.fromTo(m, .85, {
                opacity: 1
            }, {
                opacity: 0
            }, "easeOutQuint"), 0), scaleTimeline.play(), d()
        }, 20))
    }
    function d() {
        k.show(), l.css({
            opacity: 1
        }), TweenMax.staggerFrom(l, 1.5, {
            y: "-=30",
            rotationY: 360,
            rotationZ: 180,
            scale: "2",
            autoAlpha: 0,
            ease: Back.easeOut
        }, .2, function () {
            n = shuffle(n), TweenMax.staggerTo(n, 1.2, {
                top: "+=30",
                opacity: 0,
                rotationY: 360,
                rotationZ: -180,
                autoAlpha: 0,
                ease: Back.easeIn
            }, .05, function () {
                l.each(function (a) {
                    var b = 0;
                    a > 2 && 6 > a ? b = "33px" : a >= 6 && (b = "66px"), TweenMax.set($(this), {
                        top: b,
                        rotationY: 0,
                        rotationZ: 0,
                        rotationX: 0
                    })
                }), k.is(":visible") && d()
            })
        })
    }
    function e(a) {
        function b() {
            m = c, h.empty().append(m), p.destroy(), p = o[a.id.replace(/detail\d+/, "detail")], "about" === a.id && (p = o.about = AboutSection()), p.init(), m.css({
                position: "fixed",
                left: window.IS_IE ? NAV_WIDTH_CLOSED : 0,
                top: 0,
                width: Window.width - NAV_WIDTH_CLOSED,
                transformOrigin: Window.width / 2 + "px " + Window.height / 2 + "px",
                scale: .2,
                opacity: 0
            }), setTimeout(function () {
                var b = new TimelineLite({
                    onComplete: function () {
                        a.id.match(/detail\d+/) ? e.transit({
                            y: 20,
                            opacity: 0
                        }, 1e3, "easeInQuad").promise().done(function () {
                            e.remove()
                        }) : e.fadeOut(750, function () {
                            e.remove()
                        }), "about" === a.id ? $("#map").css({
                            scale: .5
                        }).transit({
                            scale: 1,
                            opacity: 1
                        }, 750, "easeOutCubic") : m.css({
                            scale: .3,
                            opacity: 0
                        }).transit({
                            scale: 1,
                            opacity: 1
                        }, 2e3, "easeInOutCubic").promise().done(function () {
                            m.removeAttr("style"), p.arrive(), window.scrollTo(0, 0), router.trigger("arrive")
                        })
                    }
                });
                a.id.match(/detail\d+/) ? b.fromTo(e, 1.2, {
                    y: "20",
                    opacity: 0
                }, {
                    y: "0",
                    opacity: 1,
                    ease: "easeOutQuad"
                }) : b.fromTo(e.find(".path"), 1.4, {
                    opacity: 0
                }, {
                    strokeDashoffset: "0",
                    opacity: 1,
                    delay: 0
                })
            }, 0)
        }
        if ("detail_bottom" === a.mode || "member" == a.id || "service" == a.id || a.id.match(/detail\d+/) ? ($body.css({
            overflowY: "hidden"
        }), $main.css({
            width: Window.width - NAV_WIDTH_CLOSED,
            overflowY: "scroll",
            overflowX: "hidden"
        })) : ($main.css({
            width: Window.width - NAV_WIDTH_CLOSED,
            overflow: "hidden"
        }), $body.css({
            overflow: "hidden"
        })), "detail_bottom" === a.mode) return void f();
        if (j && 0 === j.indexOf("detail_slide")) return void g(a);
        var c = $(a.html),
            d = a.id;
        if (d.match(/detail\d+/)) {
            var e = $("<h1>").css({
                position: "absolute",
                left: 0,
                top: "50%",
                width: "100%",
                marginTop: "-55px",
                paddingLeft: "58px",
                fontFamily: "Lato",
                fontStyle: "normal",
                fontSize: "150px",
                fontWeight: "100",
                textAlign: "center",
                zIndex: 10
            });
            d = c.find(".project").text(), e.css({
                fontSize: 52,
                wordBreak: "keep-all",
                opacity: 0
            }).html(d.toUpperCase())
        } else "index" === d && (d = "home"), e = $("<h1>").css({
            position: "absolute",
            left: $window.width() / 2 - SVG_WIDTH / 2,
            top: $window.height() / 2 - SVG_HEIGHT / 2,
            width: SVG_WIDTH,
            height: SVG_HEIGHT
        }), e.append($("#svg_" + d).clone().removeAttr("id").eq(0)).find("svg").show();
        e.appendTo("body"), k.fadeOut(2e3, function () {
            "about" === i && ($("#map").css({
                scale: .2,
                opacity: 0
            }), $("#map_zoomin").css({
                scale: .1,
                opacity: 0
            }).empty()), i = a.id, b()
        })
    }
    function f() {
        i = "works", m = $(".main_works"), p = o.works, setTimeout(function () {
            p.init(), $("main >h1").transit({
                scale: 3,
                opacity: 0
            }, 300, "easeInOutSine").promise().done(function () {
                $(this).remove()
            }), m.transit({
                scale: 1,
                opacity: 1
            }, 500, "easeInOutSine").promise().done(function () {
                m.removeAttr("style"), p.arrive(), window.scrollTo(0, 0), router.trigger("arrive")
            })
        }, 1e3)
    }
    function g(a) {
        function b() {
            router.trigger("before_depart"), m.removeAttr("style"), p.arrive(), window.scrollTo(0, 0)
        }
        var c = "detail_slide_left" === j;
        $(".loading_progress").hide(), k.fadeOut(200);
        var d = m,
            e = p,
            f = Window.width / 2;
        $(".main_works").remove(), m = $(a.html).css({
            position: "absolute",
            left: c ? -f : f,
            top: 0,
            width: Window.width - NAV_WIDTH_CLOSED,
            scale: .5,
            opacity: 0,
            overflow: "hidden",
            transformOrigin: Window.width / 2 + "px " + Window.height / 2 + "px"
        }).appendTo($("main")), p = o.detail = DetailSection(), p.init(m), m.find(".detail_info").hide();
        var g = new TimelineLite({
            paused: !1
        });
        g.add(TweenMax.to(d, 1.5, {
            left: c ? f : -f,
            opacity: 0,
            ease: Quad.easeIn,
            onComplete: function () {
                d.remove(), e.destroy()
            }
        }), 1.5).add(TweenMax.to(m, 1.5, {
            left: 0,
            opacity: .5,
            ease: Quad.easeOut,
            onComplete: function () {
                var a = $main.find("h1").eq(0).css({
                    position: "absolute",
                    left: 0,
                    top: "50%",
                    width: "100%",
                    marginTop: "-55px",
                    paddingLeft: "58px",
                    fontFamily: "Lato",
                    fontStyle: "normal",
                    fontSize: "150px",
                    fontWeight: "100",
                    textAlign: "center",
                    zIndex: 10
                }),
                    c = $main.find(".project").text();
                a.css({
                    fontSize: 52,
                    wordBreak: "keep-all",
                    opacity: 0
                }).html(c.toUpperCase()), TweenMax.fromTo(a, 1.2, {
                    y: "20",
                    opacity: 0
                }, {
                    y: "0",
                    opacity: 1,
                    ease: "easeOutQuad",
                    onComplete: function () {
                        a.transit({
                            y: 20,
                            opacity: 0
                        }, 1e3, "easeInQuad").promise().done(function () {
                            a.remove()
                        }), m.css({
                            opacity: .5
                        }).transit({
                            scale: 1,
                            opacity: 1
                        }, 1500, "easeInOutCubic").promise().done(b)
                    }
                })
            }
        }), 2.5), g.play()
    }
    var h = $("main");
    h.fadeIn(300).promise().done(function () {
        h.css({
            display: "block"
        })
    });
    var i, j, k = $(".loading_cover"),
        l = k.find(".logo_box span"),
        m = h.find(">div"),
        n = l.get(),
        o = (n.length, {
            index: IndexSection(),
            about: AboutSection(),
            member: MemberSection(),
            service: ServiceSection(),
            works: WorksSection(),
            detail: DetailSection()
        }),
        p = o.index;
    (!location.hash || location.hash.match(/^#(index)?$/)) && o.index.init(), router.on({
        depart: c,
        load: e
    }), $body.on({
        nav_open: a,
        nav_close: b
    })
}
function initAmeba() {
    function a(a) {
        function b() {
            f.position.x += Math.cos(g) * i, f.position.y += Math.cos(h) * i, g += j, h += j
        }
        var d = "#6b6363",
            e = 2.5,
            f = new c.Path.Circle(a, e);
        f.fillColor = d;
        var g = 100 * Math.random(),
            h = 100 * Math.random(),
            i = (.5 + Math.random()) / 5,
            j = (.1 + .4 * Math.random()) / 2;
        return {
            update: b,
            getPosition: function () {
                return f.position
            }
        }
    }
    function b(a) {
        function b() {
            _.each(e.segments, function (b, c) {
                var d = a[c].getPosition();
                b.point.x = d.x, b.point.y = d.y
            })
        }
        var d = "#6b6363",
            e = new c.Path;
        return e.add(new c.Point(0, 0)), e.add(new c.Point(10, 0)), e.add(new c.Point(0, 10)), e.strokeColor = d, {
            update: b
        }
    }
    var c = new paper.PaperScope;
    paper.setup("canvas_ameba");
    var d = [a(new c.Point(30, 14)), a(new c.Point(17, 19)), a(new c.Point(30, 24))],
        e = b(d);
    c.view.draw(), c.view.onFrame = function () {
        d.forEach(function (a) {
            a.update()
        }), e.update()
    }
}
function SideNav() {
    function a(a) {
        a.preventDefault(), e()
    }
    function b(a) {
        a.preventDefault(), f()
    }
    function c() {
        G && (D.onMouseOver(), p && p.pause(), o = new TweenMax(u, .3, {
            backgroundColor: "#f1f1f1"
        }))
    }
    function d() {
        G && (D.onMouseOut(), o && o.pause(), p = new TweenMax(u, .3, {
            backgroundColor: "#111111"
        }))
    }
    function e() {
        G && ($body.css("overflow", "hidden"), u.addClass("nav_open"), c(), u.addClass("open"), D.open(), E.open(), y.open(), F.lock(), C.stop().css({
            display: "block",
            opacity: 0
        }).animate({
            opacity: .5
        }, 300), u.off({
            click: a,
            mouseenter: c,
            mouseleave: d
        }), z.on("click", b), $body.addClass("nav_open"), r && r.stop(), $body.trigger("nav_open"), q = new TimelineLite, q.add(new TweenMax(u, .6, {
            width: NAV_WIDTH_OPEN,
            ease: Cubic.easeOut,
            delay: .2
        })), q.add(new TweenMax(A, .3, {
            opacity: 0,
            x: 30
        }), .2), q.add(TweenMax.fromTo(B, .3, {
            y: 5,
            opacity: 0
        }, {
            y: 0,
            opacity: 1
        }), 1.5), q.add(TweenMax.staggerFromTo(u.find(".logo_box span"), .8, {
            y: -30,
            rotationY: 360,
            rotationZ: 180,
            scale: 2,
            autoAlpha: 0
        }, {
            y: 0,
            rotationY: 0,
            rotationZ: 0,
            scale: 1,
            autoAlpha: 1,
            ease: Back.easeOut
        }, .1), .5), window.router && (-1 != H.indexOf("gecko") ? q.add(TweenMax.fromTo(C, .6, {
            left: 0
        }, {
            left: NAV_WIDTH_OPEN
        }), 0) : q.add(TweenMax.fromTo(C, .6, {
            "margin-left": 0
        }, {
            "margin-left": NAV_WIDTH_OPEN
        }), 0), q.add(new TweenMax(v, .6, {
            x: 200,
            rotationY: -3
        }), 0)))
    }
    function f() {
        G && (u.removeClass("nav_open"), D.close(), E.close(), y.close(), F.unlock(), C.stop().fadeOut(300), setTimeout(function () {
            u.removeClass("open"), $body.removeClass("nav_open")
        }, 200), z.off("click", b), $body.trigger("nav_close"), q && q.pause(), r = new TimelineLite, r.add(new TweenMax(u, .5, {
            width: 58,
            backgroundColor: "#111111",
            onComplete: function () {
                u.off().on({
                    click: a,
                    mouseenter: c,
                    mouseleave: d
                }), w.find("li.current>a").css("width", "")
            }
        })), r.add(new TweenMax(v, .4, {
            x: 0,
            rotationY: 0
        }), 0), -1 != H.indexOf("gecko") ? r.add(new TweenMax(C, .4, {
            left: 0
        }), 0) : r.add(new TweenMax(C, .4, {
            "margin-left": 0
        }), 0), r.add(new TweenMax(A, .3, {
            x: 0,
            opacity: 1
        }), .4), $body.css("overflow", ""))
    }
    function g() {
        F.unlock()
    }
    function h(a) {
        u.removeClass("nav_open"), D.close(), E.close(), y.close(), z.off("click", b), F.lock(), C.stop().fadeOut(300), x.each(function () {
            var b = $(this).find("a").attr("href"); - 1 !== b.indexOf("#" + a) || 0 === a.indexOf("detail") && -1 !== b.indexOf("works") ? $(this).addClass("current") : $(this).removeClass("current"), w.find("li.current>a").css("width", "")
        }), u.off({
            mouseenter: c,
            mouseleave: d
        }), s = new TimelineLite, s.add(new TweenMax(u, .5, {
            width: 58,
            backgroundColor: "#111111",
            onComplete: function () {
                u.removeClass("open"), $body.removeClass("nav_open")
            }
        })), s.add(new TweenMax(v, .4, {
            x: 0,
            rotationY: 0
        }), 0), s.add(new TweenMax(A, .3, {
            x: 0,
            opacity: 1
        }), .4)
    }
    function i() {
        var b = location.hash.substring(1);
        x.each(function () {
            var a = $(this).find("a").attr("href"); - 1 !== a.indexOf("#" + b) || 0 === b.indexOf("detail") && -1 !== a.indexOf("works") ? $(this).addClass("current") : $(this).removeClass("current"), w.find("li.current>a").css("width", "")
        }), t = TweenMax.to(u, .3, {
            x: 0,
            onComplete: function () {
                u.off().on({
                    mouseenter: c,
                    mouseleave: d,
                    click: a
                }), F.unlock()
            }
        })
    }
    function j() {
        G = !0
    }
    function k() {
        G = !1, $body.data("isSlideDetail") || $body.css("overflow", "hidden")
    }
    function l(a) {
        function b() {
            g.css({
                y: -15,
                opacity: 0
            }), h.css({
                backgroundColor: "#f1f1f1"
            }), e && e.pause(), d = TweenMax.staggerFromTo(g.toArray(), .4, {
                y: -20,
                opacity: 0
            }, {
                y: 0,
                opacity: 1,
                delay: 1
            }, .1), TweenMax.to(f.find("li.current>a"), .8, {
                width: 132,
                ease: Cubic.easeOut,
                delay: 1.2
            })
        }
        function c() {
            d && _.each(d, function (a) {
                a.pause()
            }), e = TweenMax.to(h, .5, {
                backgroundColor: "#111"
            })
        }
        var d, e, f = a.find(".nav_pages"),
            g = f.find("li"),
            h = g.find("span");
        return {
            open: b,
            close: c
        }
    }
    function m(a) {
        function b() {
            i && i.pause();
            var a = Back.easeInOut;
            h = new TimelineLite, h.add(TweenMax.to(k, 1, {
                y: 7,
                rotation: -45,
                ease: a
            })), h.add(TweenMax.to(l, 1, {
                x: 60,
                ease: a
            }), 0), h.add(TweenMax.to(m, 1, {
                y: -6,
                rotation: 45,
                top: "20px",
                ease: a
            }), 0)
        }
        function c() {
            h && h.pause();
            var a = Back.easeInOut;
            i = new TimelineLite, i.add(TweenMax.to(k, 1, {
                y: 0,
                rotation: 0,
                ease: a
            })), i.add(TweenMax.to(l, 1, {
                x: 0,
                ease: a
            }), 0), i.add(TweenMax.to(m, 1, {
                y: 0,
                rotation: 0,
                top: "19px",
                ease: a
            }), 0), i.add(TweenMax.staggerTo(j.toArray(), 1, {
                backgroundColor: "#f4f4f4"
            }, 0), 0)
        }
        function d() {
            g && g.pause(), f = new TimelineLite, f.add(new TweenMax(k, .3, {
                y: -3
            })), f.add(new TweenMax(m, .3, {
                y: 3
            }), 0), f.add(TweenMax.staggerTo(j.toArray(), .3, {
                backgroundColor: "#111111"
            }, 0), 0)
        }
        function e() {
            f && f.pause(), g = new TimelineLite, g.add(new TweenMax(k, .3, {
                y: 0
            })), g.add(new TweenMax(m, .3, {
                y: 0
            }), 0), g.add(TweenMax.staggerTo(j.toArray(), .3, {
                backgroundColor: "#f4f4f4"
            }, 0), 0)
        }
        var f, g, h, i, j = a.find("div"),
            k = j.eq(0),
            l = j.eq(1),
            m = j.eq(2);
        return {
            open: b,
            close: c,
            onMouseOver: d,
            onMouseOut: e
        }
    }
    function n(a) {
        function b() {
            f && f.pause(), e = new TimelineLite, e.add(TweenMax.staggerFromTo(g.toArray(), .3, {
                opacity: 0,
                x: -10
            }, {
                opacity: 1,
                x: 1,
                delay: .5
            }, .1))
        }
        function c() {
            e && e.pause(), f = TweenMax.to(g, .1, {
                opacity: 0
            })
        }
        function d(a) {
            function b() {
                e = new TimelineLite({
                    paused: !0
                }), e.fromTo(f, .5, {
                    y: 0
                }, {
                    y: -5
                }, 0).fromTo(f, .25, {
                    opacity: 1
                }, {
                    opacity: .4,
                    ease: Power2.easeOut
                }, 0)
            }
            function c() {
                e.restart()
            }
            function d() {
                e.reverse()
            }
            var e, f = $(a);
            f.on({
                mouseenter: c,
                mouseleave: d
            }), b()
        } {
            var e, f, g = a.find("li");
            _.map(g.toArray(), function (a) {
                return d(a)
            })
        }
        return {
            open: b,
            close: c
        }
    }
    var o, p, q, r, s, t, u = $("nav"),
        v = $("main"),
        w = u.find(".nav_pages"),
        x = w.find("li"),
        y = l(u),
        z = u.find(".nav_open"),
        A = u.find(".nav_ameba"),
        B = u.find(".nav_copyright"),
        C = $(".blocker"),
        D = m(u.find(".nav_open")),
        E = n(u.find(".nav_social")),
        F = ScrollLocker(),
        G = !0,
        H = window.navigator.userAgent.toLowerCase();
    return TweenMax.set(v, {
        transformPerspective: 500
    }), u.on({
        click: a,
        mouseenter: c,
        mouseleave: d
    }), window.router ? (router.on({
        before_depart: g,
        nav_depart: h,
        arrive: i,
        on_nav: j,
        off_nav: k
    }), C.on("click", b), void u.show()) : (z.hide(), u.show(), c(), void e())
}
function ProgressBar() {
    function a() {
        router.on({
            depart: b,
            progress: c,
            arrive: d
        })
    }
    function b() {
        e.stop().show().css({
            width: 5,
            height: "0%",
            opacity: 1
        })
    }
    function c(a) {
        e.css({
            height: 100 * a + "%"
        })
    }
    function d() {
        e.transit({
            width: 0,
            opacity: 0
        }, 500).promise().done(function () {
            e.hide()
        })
    }
    var e = $(".loading_progress");
    return {
        listenToRouter: a,
        show: b,
        hide: d,
        setProgress: c
    }
}
function IndexSection() {
    function a() {
        g = $(".main_index"), h = g.find(".panels"), i = h.find("li"), $initHiddens = g.find(".member, .service").find(".title,.more").hide(), $initHiddens.hide(), j = _.map(i.toArray(), function (a, b) {
            return f(a, b)
        }), Window.on("resize", b), b()
    }
    function b() {
        $main.css("width", Window.width - NAV_WIDTH_CLOSED);
        var a, b, c, d, e, f, g = Window.width - NAV_WIDTH_CLOSED,
            h = Window.height,
            j = Math.floor(g / 3),
            m = Math.floor(h / 3),
            n = 20;
        j += 2 * n, m += 2 * n, j / m > k ? (a = j, b = j / k, c = (m - b) / 2) : (b = m, a = m * k, c = 0), j / m > l ? (d = j, e = j / l, f = (m - e) / 2) : (e = m, d = m * l, f = 0), j -= 2 * n, m -= 2 * n, i.each(function () {
            var g = $(this);
            g.css({
                width: j,
                height: m
            }), g.find(".preview_bw, .preview_color").css(g.is(".member, .service") ? {
                width: d,
                height: e,
                marginTop: f
            } : {
                width: a,
                height: b,
                marginTop: c
            })
        })
    }
    function c() {
        g.find("video").each(function () {
            this.play()
        }), $initHiddens.fadeIn(400), router.trigger("on_nav")
    }
    function d() {
        g && $initHiddens.hide()
    }
    function e() {
        _.each(j, function (a) {
            a.destroy()
        })
    }
    function f(a) {
        function b() {
            k.empty().html('<span class="line1"></span><span class="line2"></span><span class="line3"></span>'), f = k.find("span")
        }
        function c() {
            j.off({
                mouseenter: d,
                mouseleave: e
            })
        }
        function d() {
            return h && h.pause(), g = new TimelineLite, g.add(TweenMax.to(m, 2, {
                scale: 1.1
            }), 0), g.add(TweenMax.to(n, .5, {
                opacity: 1
            }), 0), p ? (g.add(TweenMax.to(l, .2, {
                marginTop: -62,
                letterSpacing: "0.3em",
                ease: Sine.easeOut
            }), 0), g.add(TweenMax.to(o, .5, {
                width: 189,
                height: 74,
                marginLeft: -97,
                marginTop: -18,
                borderWidth: 2,
                onComplete: function () {
                    TweenMax.to(o.find(".underline"), .5, {
                        opacity: 1,
                        y: 0
                    })
                }
            }), 0), void(j.find("video").get(0).currentTime = 0)) : (g.add(TweenMax.fromTo(l, .4, {
                y: 10,
                opacity: 0
            }, {
                y: 0,
                opacity: 1,
                ease: Sine.easeOut,
                delay: .5
            }), 0), $.each(f[0], function () {
                f.css("width", 0)
            }), k.css("opacity", 1), i = new TimelineLite({
                paused: !0
            }), i.fromTo(f[0], .2, {
                width: 0
            }, {
                width: 30,
                ease: Linear.ease
            }), i.fromTo(f[1], .2, {
                width: 0
            }, {
                width: 28,
                ease: Linear.ease
            }), i.fromTo(f[2], .2, {
                width: 0
            }, {
                width: 28,
                ease: Linear.ease
            }), void i.restart())
        }
        function e() {
            return g && g.pause(), h = new TimelineLite, h.add(TweenMax.to(m, 1, {
                scale: 1
            }), 0), h.add(TweenMax.to(n, .6, {
                opacity: 0
            }), 0), p ? (h.add(TweenMax.to(o.find(".underline"), .5, {
                opacity: 0,
                y: 10
            }), 0), h.add(TweenMax.to(l, .2, {
                marginTop: -41,
                letterSpacing: "0.075em",
                ease: Sine.easeOut
            }), .5), void h.add(TweenMax.to(o, .5, {
                width: 161,
                height: 26,
                marginLeft: -82,
                marginTop: 7,
                borderWidth: 1
            }), .5)) : (i && i.reverse(), void h.add(TweenMax.to(l, .2, {
                opacity: 0,
                y: 10,
                ease: Sine.easeOut
            }), 0))
        }
        var f, g, h, i, j = $(a),
            k = j.find(".play"),
            l = j.find(".title"),
            m = j.find(".preview"),
            n = j.find(".preview_color"),
            o = j.find(".more"),
            p = j.is(".member, .service");
        return b(), j.on({
            mouseenter: d,
            mouseleave: e
        }), {
            destroy: c
        }
    }
    var g, h, i, j, k = 1.285,
        l = 1280 / 720;
    return {
        init: a,
        arrive: c,
        depart: d,
        destroy: e
    }
}
function MemberSection() {
    function a() {
        i = $(".main_member"), j = g(), k = h(), k.hide(), setTimeout(function () {
            $(".main_elements").css({
                opacity: 1
            })
        }, 2e3)
    }
    function b() {
        j.onArrive(), k.show()
    }
    function c() {
        e(), j.hideElements(), k.hide()
    }
    function d() {
        j.destroy(), k.destroy()
    }
    function e() {
        j.pause()
    }
    function f() {
        j.resume()
    }
    function g() {
        function a() {
            z.css({
                scale: 1.2,
                opacity: 0
            }).transit({
                scale: 1,
                opacity: 1
            }, 600);
            var a = x.find(".buttons").add(x.find("hr")).add(M.parent());
            TweenMax.staggerFromTo(a.toArray(), .6, {
                opacity: 0
            }, {
                opacity: 1
            }, .1), TweenMax.fromTo(M, .7, {
                opacity: 0
            }, {
                opacity: 1,
                onComplete: function () {
                    router.trigger("on_nav"), $body.css("overflowY", "scroll"), l = !0
                }
            }), x.find("video").each(function () {
                this.play()
            }), V.arrive()
        }
        function b() {
            B.hide()
        }
        function c() {
            B.show()
        }
        function d() {
            M.off(), x.find(".js-smoothscroll").off(), O.off(), Window.off("resize", g), V.destroy()
        }
        function e() {
            V.pause(), K.pause(), v && v.pause()
        }
        function f() {
            V.resume(), K.play(), v && v.resume()
        }
        function g() {
            l && window.$main.css("overflowY", "hidden");
            var a = 1,
                b = Math.max(Window.height, T);
            U > b && (a = b / U), window.$main.css({
                width: Window.width - NAV_WIDTH_CLOSED
            }), y.css({
                height: b,
                width: Window.width - NAV_WIDTH_CLOSED
            }), A.css({
                transformOrigin: "center top",
                scale: a,
                width: Window.width - NAV_WIDTH_CLOSED
            }), x.find(".buttons").css({
                width: (Window.width - NAV_WIDTH_CLOSED) * a
            }), Window.width < 1280 ? $body.css("overflow-x", "auto") : $body.css("overflow-x", "hidden");
            var c = A.children("img");
            C.each(function (b) {
                c.eq(b);
                $(this).css({
                    top: $(this).data("startTop") * a
                })
            })
        }
        function h(a) {
            a.preventDefault(), w && w.pause(), j.hideElements(), k.hide(), x.css("backgroundImage", "none"), D.show(), K.currentTime = 0, TweenMax.to(y, 1, {
                scale: .8,
                opacity: 0
            }), R.to(P.eq(0), .6, {
                rotation: -45,
                ease: Back.easeInOut
            }, 0).to(P.eq(1), .6, {
                rotation: 45,
                ease: Back.easeInOut
            }, 0), Q.fromTo(P.eq(0), 1.2, {
                rotation: -45,
                top: "-8px",
                left: "58px",
                opacity: 0
            }, {
                top: "30px",
                left: "15px",
                opacity: 1,
                ease: Back.easeInOut
            }, .3).fromTo(P.eq(1), 1.2, {
                rotation: -45,
                top: "-8px",
                left: "58px",
                opacity: 0
            }, {
                top: "30px",
                left: "15px",
                opacity: 1,
                ease: Back.easeInOut,
                onComplete: function () {
                    R.restart()
                }
            }, .3), Q.restart(), TweenMax.fromTo(D, 1, {
                scale: 1.25,
                opacity: 0
            }, {
                scale: 1,
                opacity: 1
            }), G.css({
                top: Window.height,
                opacity: 0
            }), setTimeout(function () {
                i(0)
            }, 1e3)
        }
        function i(a) {
            var b = G.eq(a),
                c = Window.height / 2 - parseInt(b.height()) / 2,
                d = Window.width / 2 - parseInt(b.width()) / 2;
            b.css({
                left: d
            }), b.find("span").attr("style", "").removeAttr("style").css("opacity", .6), v = new TimelineLite({
                paused: !0,
                onComplete: function () {
                    I == a ? p() : H = setTimeout(function () {
                        i(a + 1)
                    }, 1500)
                }
            });
            var e = 0,
                f = 100,
                g = 2;
            if (a > 0 && (e += 2.2), b.css({
                top: c,
                opacity: 1
            }), b.find("span").css({
                scale: .6,
                opacity: 0
            }), v.add(TweenMax.staggerFromTo(b.find("span"), g, {
                top: f + "px",
                scale: .6,
                opacity: 0
            }, {
                top: 0,
                scale: 1,
                opacity: 1,
                ease: Power2.easeOut
            }, .1), e), a > 0) {
                var h = G.eq(a - 1);
                c = Window.height / 2 - parseInt(h.height()) / 2, v.add(TweenMax.staggerTo(h.find("span"), g / 2, {
                    top: f / 2 * -1,
                    scale: .8,
                    opacity: 0,
                    ease: Power2.easeOut
                }, .1), e)
            }
            v.restart()
        }
        function n() {
            L.restart()
        }
        function o() {
            L.reverse()
        }
        function p(a) {
            a && a.preventDefault(), k.show(), j.showElements(), E.stop(), v && (v.pause(), v = null), H && clearTimeout(H), R.reverse(), w = new TimelineLite, w.add(TweenMax.to(y, 1, {
                scale: 1,
                opacity: 1
            }), .5), w.add(TweenMax.to(D, 1, {
                scale: 1.25,
                opacity: 0,
                onComplete: function () {
                    D.hide()
                }
            }), .5), x.css("backgroundImage", J)
        }
        function q() {
            S.restart()
        }
        function r() {
            S.reverse()
        }
        function s() {
            O.hide()
        }
        function t() {
            function a() {
                Window.on({
                    mousemove: f
                })
            }
            function b() {
                Window.off({
                    resize: e,
                    mousemove: f
                })
            }
            function c() {
                Window.off({
                    resize: e,
                    mousemove: f
                })
            }
            function d() {
                Window.on({
                    resize: e,
                    mousemove: f
                })
            }
            function e() {
                var a = Math.min(Math.max(Window.width, j), k),
                    b = (Window.width - a) / 2;
                g.add(h).css({
                    position: "absolute",
                    left: b,
                    top: 0,
                    width: a
                })
            }
            function f() {
                var a = Window.mouseX / Window.width - .5,
                    b = Window.mouseY / Window.height - .5;
                i.each(function (c) {
                    var d = l[c];
                    TweenMax.to($(this), 1.2, {
                        x: -100 * a * d,
                        y: -10 * b * (1 - (1 - d) / 2),
                        ease: Power2.easeOut
                    })
                }), TweenMax.set(h, {
                    x: -30 * a,
                    y: -5 * b
                })
            }
            var g = x.find(".main_photo"),
                h = x.find(".main_elements .buttons"),
                i = g.find("img"),
                j = 1542,
                k = 2100,
                l = [.8, .85, 1, .8];
            return Window.on({
                resize: e
            }), e(), f(), {
                arrive: a,
                destroy: b,
                pause: c,
                resume: d
            }
        }
        function u(a) {
            function b() {
                f.off({
                    mouseenter: c,
                    mouseleave: d
                })
            }
            function c() {
                e = new TimelineLite({
                    paused: !0
                }), e.fromTo(g, .3, {
                    opacity: .3
                }, {
                    opacity: 1
                }, 0).fromTo(z, .3, {
                    opacity: 1
                }, {
                    opacity: .3
                }, 0).fromTo(F, .3, {
                    opacity: 1
                }, {
                    opacity: .3
                }, 0).fromTo(M, .3, {
                    opacity: 1
                }, {
                    opacity: .3
                }, 0).fromTo(h, .4, {
                    opacity: 0,
                    top: 8
                }, {
                    opacity: 1,
                    top: 0
                }, .1), e.restart()
            }
            function d() {
                e.reverse()
            }
            var e, f = $(a),
                g = f.find("img"),
                h = f.find("span").css({
                    opacity: 0,
                    position: "relative",
                    top: 0,
                    left: 0
                });
            return f.on({
                mouseenter: c,
                mouseleave: d
            }), {
                destroy: b
            }
        }
        var v, w, x = $(".main_member .main"),
            y = x.find(".main_content"),
            z = x.find("h1"),
            A = x.find(".main_photo"),
            B = x.find(".main_elements"),
            C = B.children(".buttons").children("li"),
            D = x.find(".main_message"),
            E = D.find(".text"),
            F = x.find("hr"),
            G = E.find(".text_parent"),
            H = null,
            I = G.length,
            J = x.css("backgroundImage"),
            K = D.find("video").get(0),
            L = new TimelineLite({
                paused: !0
            }),
            M = x.find(".message_button"),
            N = 26,
            O = x.find(".main_message .close"),
            P = O.find("div"),
            Q = new TimelineLite({
                paused: !0
            }),
            R = new TimelineLite({
                paused: !0
            }),
            S = new TimelineLite({
                paused: !0
            });
        L.to(M, .5, {
            width: 189,
            height: 74,
            marginLeft: -94.5,
            marginTop: -(76 - N) / 2,
            borderWidth: 2
        }).to(M.find(".underline"), .3, {
            opacity: 1,
            top: 25
        }), S.fromTo(P.eq(0), .4, {
            scale: 1
        }, {
            scale: .8,
            ease: Power2.easeOut
        }, 0).fromTo(P.eq(1), .4, {
            scale: 1
        }, {
            scale: .8,
            ease: Power2.easeOut
        }, 0), z.add(M.parent()).add(F).add(x.find(".buttons")).css({
            opacity: 0
        });
        var T = 650,
            U = 980;
        C.each(function () {
            $(this).data("startTop", parseInt($(this).css("top"))), $(this).data("startLeft", parseInt($(this).css("left")))
        }), Window.on("resize", g), g(), B.css({
            opacity: 0
        }); {
            var V = t();
            _.map(x.find(".buttons li").toArray(), function (a) {
                return u(a)
            })
        }
        return x.find(".js-smoothscroll").on("click", function (a) {
            a.preventDefault(), m = !0;
            var b = $(this),
                c = !1,
                d = $("#" + this.href.split("#").pop()).offset().top,
                e = 50 * Math.sqrt(d);
            smoothScrollTo(d, {
                duration: e,
                easing: "easeOutQuad",
                complate: function () {
                    if (!c) {
                        c = !0, m = !1;
                        var a = $("#" + b.attr("href").split("#").pop());
                        if (!a.hasClass("open")) {
                            $photos = a.find(".person_photo"), $button = a.find(".button>a");
                            var d = new TimelineLite;
                            d.to($photos.find("img"), .4, {
                                scale: 1.05
                            }, 0), d.to($photos.find(".color"), .4, {
                                opacity: 1
                            }, 0).call(function () {
                                $button.trigger("click")
                            }, null, this, .5)
                        }
                    }
                }
            })
        }), M.on({
            click: h,
            mouseenter: n,
            mouseleave: o
        }), O.on({
            click: p,
            mouseenter: q,
            mouseleave: r
        }), router.on({
            nav_depart: s
        }), {
            onArrive: a,
            hideElements: b,
            showElements: c,
            destroy: d,
            pause: e,
            resume: f
        }
    }
    function h() {
        function a() {
            i.show(), Window.width <= parseInt($body.css("min-width"), 10) - NAV_WIDTH_CLOSED && $body.css("overflow-x", "auto")
        }
        function b() {
            i.hide()
        }
        function c() {
            _.each(k, function (a) {
                a.off({
                    open: e,
                    close: f
                }), a.destroy()
            }), Window.off("resize", d)
        }
        function d() {
            _.each(k, function (a) {
                a.onResize()
            })
        }
        function e(a) {
            h && h.forcedClose(), h = k[a], j.each(function (b) {
                return b === a ? void $(this).removeClass("look-down").removeClass("look-up") : void $(this).addClass(a > b ? "look-down" : "look-up")
            })
        }
        function f() {
            j.removeClass("look-up").removeClass("look-down"), h = null
        }
        function g(a, b) {
            function c() {
                M.trigger("open", G), A.addClass("open"), x && x.pause(), K = !1, t = new TimelineLite, v = new TimelineLite({
                    paused: !0,
                    onReverseComplete: function () {
                        e()
                    }
                }), F.parent().parent().find(">section").each(function () {
                    d($(this))
                }), N.start(), v.to(D.eq(0), .6, {
                    rotation: -45,
                    ease: Back.easeInOut
                }, 0).to(D.eq(1), .6, {
                    rotation: 45,
                    ease: Back.easeInOut
                }, 0), t.fromTo(A.find(".person_elements_after .name"), .8, {
                    x: -10,
                    opacity: 0
                }, {
                    x: 0,
                    opacity: 1
                }, 0).fromTo(A.find(".title"), .8, {
                    x: -10,
                    opacity: 0
                }, {
                    x: 0,
                    opacity: 1
                }, 0).fromTo(A.find(".social"), .8, {
                    x: -10,
                    opacity: 0
                }, {
                    x: 0,
                    opacity: 1
                }, 0).fromTo(C, .5, {
                    right: -60,
                    top: -60
                }, {
                    right: 0,
                    top: 0,
                    ease: Cubic.easeOut
                }, .4).fromTo(D.eq(0), 1.2, {
                    rotation: -45,
                    top: "-8px",
                    left: "58px",
                    opacity: 0
                }, {
                    top: "30px",
                    left: "15px",
                    opacity: 1,
                    ease: Back.easeInOut
                }, .3).fromTo(D.eq(1), 1.2, {
                    rotation: -45,
                    top: "-8px",
                    left: "58px",
                    opacity: 0
                }, {
                    top: "30px",
                    left: "15px",
                    opacity: 1,
                    ease: Back.easeInOut,
                    onComplete: function () {
                        v.restart()
                    }
                }, .3).to(F.find(".hen"), .3, {
                    opacity: 1
                }, 0).set(F.find("img"), {
                    scale: 1.05
                }, 0).call(function () {
                    K = !0
                })
            }
            function d(a) {
                a.hasClass("look-up") ? (TweenMax.to(a.find(".down"), .3, {
                    opacity: 0
                }), TweenMax.to(a.find(".up"), .3, {
                    opacity: 1
                })) : a.hasClass("look-down") ? (TweenMax.to(a.find(".up"), .3, {
                    opacity: 0
                }), TweenMax.to(a.find(".down"), .3, {
                    opacity: 1
                })) : TweenMax.set(a.find(".up,.down"), .3, {
                    opacity: 0
                })
            }
            function e() {
                u = new TimelineLite({
                    paused: !0,
                    onComplete: function () {
                        A.find(".person_elements_before .name").css("opacity", 0), A.removeClass("open"), F.parent().parent().find(">section .up,.down,.hen").css("opacity", 0);
                        var a = A.is(".sw, .hi");
                        z = new TimelineLite, z.timeScale(1.5).to(A.find(".person_elements_before .name"), .2, {
                            opacity: 1
                        }, "#start").to(I, .3, {
                            marginTop: "-106px",
                            letterSpacing: "0.075em",
                            color: "#f4f4f4"
                        }, "#start").to(J, .3, {
                            left: a ? "auto" : 112,
                            right: a ? 112 : "auto",
                            marginTop: "-58px",
                            width: "161px",
                            height: "26px",
                            borderWidth: "1px",
                            borderColor: "#f4f4f4"
                        }, "#start").to(J.find("a"), .3, {
                            color: "#f7f7f7"
                        }, "#start").to(L, .7, {
                            paddingBottom: "14px",
                            borderWidth: "1px",
                            borderColor: "transparent"
                        }, "#start+=0.5").to(F.find("img"), .6, {
                            scale: 1
                        }, "#start").to(F.find(".color"), .6, {
                            opacity: 0
                        }, "#start")
                    }
                }), u.add("#start", 0).to(D, 1, 2, {
                    top: "-8px",
                    left: "58px",
                    opacity: 0
                }, "#start").to(C, .5, {
                    right: -60,
                    top: -60
                }, "#start").to(A.find(".person_elements_after .name"), .8, {
                    x: -10,
                    opacity: 0
                }, "#start").to(A.find(".title"), .8, {
                    x: -10,
                    opacity: 0
                }, "#start").to(A.find(".social"), .8, {
                    x: -10,
                    opacity: 0
                }, "#start").call(function () {
                    N && N.stop()
                }, null, this, "#start").to(F.find(">section .up,.down,.hen"), .5, {
                    opacity: 0
                }, "#start+=0.4"), u.play()
            }
            function f() {
                v.timeScale(1.8), v.reverse()
            }
            function g() {
                N && N.stop(), u && u.pause(), v && v.pause(), t && t.pause(), A.removeClass("open"), F.parent().parent().find(">section .up,.down,.hen").css("opacity", 0), M.trigger("close", b), TweenMax.set(D, {
                    top: "-8px",
                    left: "58px",
                    opacity: 0
                }), TweenMax.set(C, .5, {
                    right: -60,
                    top: -60,
                    opacity: 0
                }), TweenMax.set(A.find(".person_elements_after .name"), {
                    x: -10,
                    opacity: 0
                }), TweenMax.set(A.find(".title"), {
                    x: -10,
                    opacity: 0
                }), TweenMax.set(A.find(".social"), {
                    x: -10,
                    opacity: 0
                }), TweenMax.set(F.find(">section .up,.down,.hen,.color"), {
                    opacity: 0
                }), I.removeAttr("style"), J.removeAttr("style"), J.find("a").removeAttr("style"), L.removeAttr("style"), F.find("img").removeAttr("style"), F.find(".color").removeAttr("style")
            }
            function h() {
                w = new TimelineLite({
                    paused: !0
                }), w.fromTo(D.eq(0), .4, {
                    scale: 1
                }, {
                    scale: .8,
                    ease: Power2.easeOut
                }, 0).fromTo(D.eq(1), .4, {
                    scale: 1
                }, {
                    scale: .8,
                    ease: Power2.easeOut
                }, 0), w.restart()
            }
            function i() {
                w.reverse()
            }
            function j() {
                B.off(), C.off(), E.off()
            }
            function k() {
                var a = (Window.width, Math.min(Math.max(Window.width - 100, 1082), 1280)),
                    b = (a - 1082) / 198,
                    c = 988,
                    d = (610 + 378 * b) / 988;
                A.css({
                    height: c * d
                }), A.find(".person_elements_before").css({
                    width: a,
                    marginLeft: -a / 2
                }), A.find(".person_elements_after_inner").css({
                    width: a
                }), A.find(".person_photo").css({
                    scale: d,
                    transformOrigin: "center top"
                }), A.is(".sw") && A.find(".person_elements_after_inner").find(".name, .title, .social").css({
                    marginLeft: ""
                })
            }
            function l() {
                if (!m && K) {
                    var a = A.is(".sw, .hi");
                    x = new TimelineLite({
                        onReverseComplete: function () {
                            J.css({
                                borderColor: "#f4f4f4"
                            })
                        }
                    }), x.set(F.find(".up, .down"), {
                        opacity: 0
                    }).add("#start", 0).to(I, .3, {
                        marginTop: -126,
                        letterSpacing: "0.3em",
                        color: "#111"
                    }, "#start").to(J, .3, {
                        left: a ? "auto" : 98,
                        right: a ? 98 : "auto",
                        marginTop: -78,
                        width: 189,
                        height: 74,
                        borderWidth: "2px",
                        borderColor: "#111"
                    }, "#start").to(J.find("a"), .3, {
                        color: "#111"
                    }, "#start").to(L, .7, {
                        paddingBottom: 8,
                        borderWidth: "1px",
                        borderColor: "#111"
                    }, "#start+=0.5").to(F.find("img"), .6, {
                        scale: 1.05
                    }, "#start").fromTo(F.find(".color"), .6, {
                        opacity: 0
                    }, {
                        opacity: 1
                    }, "#start")
                }
            }
            function n() {
                K && x.timeScale(1.3).reverse()
            }
            function o(a) {
                a.preventDefault(), c()
            }
            function p(a) {
                a.preventDefault(), f()
            }
            function q() {
                var a = $(this);
                y = new TimelineLite({
                    paused: !0
                }), y.fromTo(a, .5, {
                    y: 0
                }, {
                    y: -5
                }, 0).fromTo(a, .25, {
                    opacity: 1
                }, {
                    opacity: .4,
                    ease: Power2.easeOut
                }, 0), y.restart()
            }
            function r() {
                y.reverse()
            }
            function s() {
                function a() {
                    b(), c = new TimelineLite({
                        paused: !0
                    }), c.add(TweenMax.staggerFromTo(e, 1.5, {
                        top: "20px",
                        scale: .75,
                        opacity: 0
                    }, {
                        top: 0,
                        scale: 1,
                        opacity: 1,
                        ease: Quad.easeOut
                    }, .4), 0), c.restart()
                }
                function b() {
                    c && c.stop(), e.css("opacity", 0)
                } {
                    var c, d = A.find(".person_elements_after .description"),
                        e = d.find("span").css({
                            opacity: 0,
                            position: "relative",
                            top: 0,
                            left: 0
                        });
                    e.length
                }
                return {
                    start: a,
                    stop: b
                }
            }
            var t, u, v, w, x, y, z, A = $(a),
                B = A.find(".button a"),
                C = A.find(".close"),
                D = C.find("div"),
                E = A.find(".social a"),
                F = A.find(".person_photo"),
                G = (A.parent(), b),
                H = A.find(".person_elements_before"),
                I = H.find(".name"),
                J = H.find(".button"),
                K = !0,
                L = J.find("span"),
                M = EventDispatcher(),
                N = s();
            return B.on({
                mouseenter: l,
                mouseleave: n,
                click: o
            }), C.on({
                mouseenter: h,
                mouseleave: i,
                click: p
            }), E.on({
                mouseover: q,
                mouseout: r
            }), {
                on: M.on,
                off: M.off,
                close: f,
                forcedClose: g,
                destroy: j,
                onResize: k
            }
        }
        var h, i = $(".main_member .each"),
            j = i.find(".person"),
            k = _.map(j.toArray(), function (a, b) {
                return g(a, b)
            });
        return _.each(k, function (a) {
            a.on({
                open: e,
                close: f
            })
        }), Window.on("resize", d), d(), {
            show: a,
            hide: b,
            destroy: c
        }
    }
    var i, j, k, l = !1,
        m = !1;
    return {
        init: a,
        arrive: b,
        depart: c,
        destroy: d,
        pause: e,
        resume: f
    }
}
function AboutSection() {
    function a() {
        s = $(".main_about"), t = s.find(".about_main"), u = window.aboutMap;
        var a = $("#map"),
            f = $("#map_zoomin");
        d(), setTimeout(function () {
            var b = Window.isFF ? 5 : 5,
                c = 3e3;
            f.css({
                scale: 1 / b
            }), f.stop().transit({
                opacity: 1,
                scale: 1
            }, c, "easeInOutCubic"), a.transit({
                scale: b
            }, c, "easeInOutCubic").promise().done(function () {
                a.find(">layer").remove(), setTimeout(function () {
                    a.css({
                        scale: 1
                    }), e(), router.trigger("arrive"), k(), router.trigger("on_nav")
                }, 100)
            }), s.css({
                visibility: "visible",
                opacity: 0,
                scale: .9
            }).delay(2500).transit({
                scale: 1,
                opacity: 1
            })
        }, 1500), v = s.find("form"), w = s.find("input, textarea"), x = s.find("button"), y = s.find(".logos a"), l(), Window.on("resize", k), k(), y.on({
            mouseover: b,
            mouseout: c
        })
    }
    function b() {
        $(this).stop().transit({
            opacity: .7
        }, 300)
    }
    function c() {
        $(this).stop().transit({
            opacity: 1
        }, 300)
    }
    function d() {
        function a(a) {
            {
                var b = $("<div>").addClass("layer").css({
                    position: "absolute",
                    left: 0,
                    top: 0,
                    width: "100%",
                    height: "100%",
                    opacity: .5
                }).appendTo("#map"),
                    c = [null, "40%", 0, "80%", 0],
                    d = [null, "40%", 0, 0, "50%"];
                $("<img>").attr("src", "img/about_cloud_0" + a + ".png").css({
                    position: "absolute",
                    left: c[a],
                    top: d[a]
                }).appendTo(b)
            }
            return b
        }
        var b = a(1),
            c = a(2),
            d = a(3),
            e = a(4);
        c.css({
            scale: .7,
            opacity: .8
        }), d.css({
            scale: .3,
            opacity: 1
        }), e.css({
            rotateX: 0
        }), setTimeout(function () {
            b.transit({
                scale: 3,
                rotateX: 0,
                opacity: 0
            }, 1e3, "easeInQuart"), c.transit({
                scale: 2,
                rotateX: 0,
                opacity: 0
            }, 1500, "easeInQuart"), d.transit({
                scale: 1,
                rotateX: 0,
                opacity: 0
            }, 2e3, "easeInExpo").promise().done(function () {
                b.remove(), c.remove(), d.remove(), e.remove()
            })
        }, 1500)
    }
    function e() {
        var a = 1 + Math.floor(3 * Math.random()),
            b = $("<img>").attr("src", "img/about_cloud_0" + a + ".png").css({
                position: "absolute",
                left: 0,
                top: 0
            }).appendTo(".about_map");
        TweenMax.fromTo(b, 30 + 10 * Math.random(), {
            left: -100 + 10 * Math.random() + "%",
            top: 200 - 150 * Math.random() + "%"
        }, {
            left: 200 - 150 * Math.random() + "%",
            top: -100 + 10 * Math.random() + "%",
            ease: Linear.ease,
            onComplete: function () {
                b.remove()
            }
        }), clearTimeout(z), z = setTimeout(e, 1e4 + 3e3 * Math.random())
    }
    function f() {}
    function g() {
        clearTimeout(z), $(".about_map").empty(), Window.off("resize", k), $body.css({
            height: "",
            overflowY: "auto"
        }), y.off()
    }
    function h() {
        i(), $("#map").find(">.layer").remove(), s.hide()
    }
    function i() {
        $(".about_map").stop().fadeOut(300)
    }
    function j() {
        $(".about_map").stop().fadeIn(300)
    }
    function k() {
        $body.css({
            height: Window.height,
            overflowY: "hidden"
        }), t.css({
            top: (Window.height - t.height()) / 2
        })
    }
    function l() {
        w.on({
            input: m,
            change: m
        }), o()
    }
    function m() {
        for (var a, b = 0; b < w.length; b++) {
            var c = w.eq(b).val();
            if (!c || /^\s+$/.test(c)) {
                a = !0;
                break
            }
        }
        a ? o() : n()
    }
    function n() {
        x.css({
            opacity: 1,
            cursor: "pointer"
        }).off("click").on("click", p)
    }
    function o() {
        x.css({
            opacity: .5,
            cursor: "default"
        }).off("click").on("click", r)
    }
    function p(a) {
        a.preventDefault();
        var b = v.attr("action") + "?",
            c = v.serialize();
        w.add(x).attr("disabled", !0), v.find("label, button").animate({
            opacity: .15
        }, 300), v.find(".thankyou").show().css({
            opacity: 0,
            scale: .8
        }), $.ajax({
            url: b,
            dataType: "json",
            type: "POST",
            data: c
        }).promise().done(function (a) {
            "0" == a.status ? (alert(a.messages), q()) : v.find(".thankyou").transit({
                opacity: 1,
                scale: 1
            }, 500)
        }).fail(function () {
            alert(""), q()
        })
    }
    function q() {
        v.find(".thankyou").hide(), v.find("label, button").stop(!0).animate({
            opacity: 1
        }, 300), w.add(x).attr("disabled", !1)
    }
    function r(a) {
        a.preventDefault()
    }
    var s, t, u, v, w, x, y, z;
    return {
        init: a,
        arrive: f,
        destroy: g,
        depart: h,
        pause: i,
        resume: j
    }
}
function ServiceSection() {
    function a() {
        j = $(".main_service"), k = j.find(".service_main"), l = k.find(".service_main_inner"), n = k.find("video"), o = n.get(0), m = j.find(".service_menu"), p = m.find("li"), q = _.map(p.toArray(), function (a) {
            return h(a)
        }), Window.on("resize", g), g(), p.hide(), r = i({
            $element: $(".mild_network .bg"),
            frameHeight: 245,
            frames: [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 26, 26, 26, 26, 26, 26, 26, 26, 26, 26, 26, 26, 26, 26, 25, 24, 23, 22, 21, 20, 19, 18, 17, 16, 15, 14, 13, 12, 11, 10, 9, 8, 7, 6, 5, 4, 3, 2, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
            fps: 10
        }), s = i({
            $element: $(".creative .bg"),
            frameHeight: 210,
            numFrames: 14,
            fps: 30
        }), t = i({
            $element: $(".consulting .bg"),
            frameHeight: 205,
            numFrames: 87,
            fps: 15
        })
    }
    function b() {
        p.show();
        var a = 1.2,
            b = 30;
        l.find("span").each(function (a) {
            $(this).css("top", 35 * a + "px")
        }), u = new TimelineLite({
            paused: !0,
            onComplete: function () {}
        }), u.fromTo(l.find("h1"), a, {
            top: b + "px",
            scale: 1,
            opacity: 0
        }, {
            top: 0,
            scale: 1,
            opacity: 1,
            ease: Power2.easeOut
        }), u.staggerFromTo(l.find("span"), a, {
            top: "+=" + b + "px",
            scale: .8,
            opacity: 0
        }, {
            top: "-=" + b + "px",
            scale: 1,
            opacity: 1,
            ease: Power2.easeOut
        }, .4, 1), u.play(), o.play(), r.play(), s.play(), t.play(), router.trigger("on_nav"), $body.css("overflowY", "auto"), v = !0
    }
    function c() {
        _.each(q, function (a) {
            a.destroy()
        }), r.stop(), s.stop(), t.stop(), Window.off("resize", g), v = !1
    }
    function d() {
        e(), l.hide(), m.hide()
    }
    function e() {
        o.pause(), u.pause(), r.stop(), s.stop(), t.stop()
    }
    function f() {
        o.play(), u.resume(), r.play(), s.play(), t.play()
    }
    function g() {
        v && window.$main.css("overflowY", "hidden"), k.css({
            height: Window.height
        }), l.css({
            top: (Window.height - l.height() - 152) / 2
        });
        var a, b, c = Window.width / Window.height,
            d = Window.width - NAV_WIDTH_CLOSED;
        window.$main.css("width", d), d - window.SCROOL_BAR_WIDTH < 1280 ? $body.css("overflowX", "auto") : $body.css("overflowX", "hidden"), w / x > c ? (b = Window.height, a = w * (b / x)) : (a = d, b = x * (a / w)), n.css({
            width: a,
            height: b,
            left: Math.max((d - a) / 2, 0),
            top: Math.max((Window.height - b) / 2, 0)
        })
    }
    function h(a) {
        function b() {
            h.off({
                mouseenter: c,
                mouseleave: d
            })
        }
        function c() {
            e(), g = new TimelineLite, g.fromTo(i, 1, {
                top: 151,
                color: "#171717"
            }, {
                top: 99,
                color: "#f4f4f4"
            }, 0), g.fromTo(j, 1, {
                color: "#171717"
            }, {
                color: "#f4f4f4"
            }, 0), g.fromTo(j, 1, {
                opacity: 0
            }, {
                opacity: 1
            }, 0), g.fromTo(k, 1, {
                top: 52
            }, {
                top: 0
            }, 0), g.staggerFromTo(k.find("span"), .8, {
                top: 10,
                scale: .8,
                opacity: 0
            }, {
                top: 0,
                scale: 1,
                opacity: 1,
                ease: Power2.easeOut
            }, .4, .5)
        }
        function d() {
            g.timeScale(1.5).reverse()
        }
        function e() {
            var a = k.width();
            if (!f || f !== a) {
                f = a, m.text("");
                var b = "",
                    c = "",
                    d = "",
                    e = 0,
                    g = l.split(""),
                    h = g.length;
                _.map(g, function (a) {
                    return e++, "\n" === a ? (b += "<span>" + c + "<br></span>", void(d = c = "")) : (d += a, m.text(d), m.width() > f ? (b += "<span>" + c + "</span>", d = a, c = a) : c += a, void(h == e && (b += "<span>" + c + "</span>")))
                }), j.children("p").html(b)
            }
        }
        var f, g, h = $(a),
            i = h.find(".subtitle"),
            j = h.find(".description"),
            k = j.find("p"),
            l = k.text().replace(/\t/g, ""),
            m = $("#dummy_span");
        return h.on({
            mouseenter: c,
            mouseleave: d
        }), j.css({
            display: "block"
        }), {
            destroy: b
        }
    }
    function i(a) {
        function b() {
            c(), e = setTimeout(d, 1e3 / j)
        }
        function c() {
            clearTimeout(e)
        }
        function d() {
            k++, k >= h && (k = 0);
            var a = i ? i[k] : k;
            f.css({
                backgroundPosition: "center " + a * -g + "px"
            }), e = setTimeout(d, 1e3 / j)
        }
        var e, f = a.$element,
            g = a.frameHeight,
            h = a.numFrames || a.frames.length,
            i = a.frames,
            j = a.fps,
            k = 0;
        return {
            play: b,
            stop: c
        }
    }
    var j, k, l, m, n, o, p, q, r, s, t, u, v = !1,
        w = 1140,
        x = 890;
    return {
        init: a,
        arrive: b,
        destroy: c,
        depart: d,
        pause: e,
        resume: f
    }
}
function WorksSection() {
    function a() {
        window.scrollTo(0, 0), k = $(".main_works"), l = k.find(".panels"), y = !1, Window.on({
            resize: d
        }), d(), u = 0, v = 0
    }
    function b() {
        n = l.width() - Window.width + 300, o = Math.max(Math.abs(l.height() - Window.height), Math.abs(Window.height - l.height())), Window.on({
            mousemove: e
        }), e(), t = setInterval(f, 1e3 / 60), m = _.map(l.find("li").toArray(), function (a) {
            return h(a)
        }), $main.css({
            width: Window.width,
            height: Window.height,
            overflow: "hidden"
        }), router.trigger("on_nav"), maskDiv = $("#worksMaskId"), maskDiv && maskDiv.remove()
    }
    function c(a) {
        i(), Window.off({
            resize: d,
            mousemove: e
        }), $main.css({
            height: "auto",
            overflowX: "hidden"
        }), a && "workstop" == a && ($worksPanel = $("#works_panel"), $worksPanel && $worksPanel.fadeOut(200)), clearInterval(t)
    }
    function d() {
        var a = 350,
            b = 272,
            c = l.find("li").length,
            d = Math.ceil(Math.sqrt(c));
        l.css({
            width: a * d
        });
        var e = b * Math.ceil(c / d);
        r = (Window.width - a * d) / 2, s = (Window.height - e) / 2, p = Math.min(4 * r, -200), q = Math.min(4 * s, -200), n = l.width() - Window.width + 300, o = Math.max(Math.abs(l.height() - Window.height), Math.abs(Window.height - l.height())), $main.css({
            width: Window.width,
            height: Window.height
        })
    }
    function e() {
        var a = Window.mouseX / Window.width,
            b = Window.mouseY / Window.height;
        w = r + (a - .5) * p, x = s + (b - .5) * q
    }
    function f() {
        var a = 100;
        u += (w - u) / a, v += (x - v) / a;
        var b = .1;
        Math.abs(u - w) < b && (u = w), Math.abs(v - x) < b && (v = x), TweenMax.set(k, {
            x: u,
            y: v
        })
    }
    function g() {
        Window.off({
            resize: d,
            mousemove: e
        }), _.each(m, function (a) {
            a.destroy()
        }), m = null, clearInterval(t)
    }
    function h(a) {
        function b() {
            h.off({
                mouseenter: f,
                mouseleave: g
            })
        }
        function c(a) {
            if (a.preventDefault(), !y) {
                y = !0;
                var b = $(this).attr("id");
                clearInterval(t), Window.off({
                    resize: d,
                    mousemove: e
                });
                var c = $(this);
                c.off({
                    mouseenter: f,
                    mouseleave: g
                });
                var h = '<div id="works_panel">' + c.clone().html() + "</div>";
                c.css("opacity", 0), $body.append(h);
                var i = $("#works_panel");
                i.css({
                    position: "absolute",
                    top: c.offset().top,
                    left: c.offset().left,
                    minWidth: c.width()
                });
                var j = shuffle(l.find("li").not("#" + b).get());
                i.find(".play , .title").fadeOut(400), i.find(".preview_color").show().transit({
                    opacity: 1
                }, 400), i.find("a").on("click", function (a) {
                    a.preventDefault()
                });
                var k = new TimelineLite({
                    onComplete: function () {
                        l.find("li").hide(), router.departFor(b, "workstop")
                    }
                });
                k.staggerFromTo(j, .4, {
                    scale: 1,
                    opacity: 1
                }, {
                    scale: .8,
                    opacity: 0
                }, .02), k.to(i, 1.2, {
                    left: (Window.width - NAV_WIDTH_CLOSED) / 2 - parseInt(i.width()) / 2,
                    top: Window.height / 2 - parseInt(i.height()) / 2
                }, 0)
            }
        }
        function f() {
            i.css("opacity", 1), m && m.pause(), k = new TimelineLite, k.add(TweenMax.fromTo(j, .4, {
                y: 10,
                opacity: 0
            }, {
                y: 0,
                opacity: 1,
                ease: Sine.easeOut,
                delay: .5
            }), 0), k.add(TweenMax.to(q, .3, {
                opacity: 1
            }), 0), k.add(TweenMax.to(p, 1, {
                scale: 1.1
            }), 0), n = new TimelineLite({
                paused: !0
            }), n.fromTo(o[0], .2, {
                width: 0
            }, {
                width: 30,
                ease: Linear.ease
            }), n.fromTo(o[1], .2, {
                width: 0
            }, {
                width: 28,
                ease: Linear.ease
            }), n.fromTo(o[2], .2, {
                width: 0
            }, {
                width: 28,
                ease: Linear.ease
            }), n.restart()
        }
        function g() {
            k && k.pause(), n && n.pause(), m = new TimelineLite, m.add(TweenMax.to(j, .2, {
                opacity: 0,
                y: 10,
                ease: Sine.easeOut,
                delay: .5
            }), 0), m.add(TweenMax.to(q, .3, {
                opacity: 0
            }), 0), m.add(TweenMax.to(p, 1, {
                scale: 1
            }), 0), n && n.reverse()
        }
        var h = $(a),
            i = h.find(".play"),
            j = h.find(".title");
        i.empty().html('<span class="line1"></span><span class="line2"></span><span class="line3"></span>');
        var k, m, n, o = i.find("span"),
            p = h.find(".preview"),
            q = h.find(".preview_color");
        return h.on({
            mouseenter: f,
            mouseleave: g,
            click: c
        }), {
            destroy: b
        }
    }
    function i() {
        Window.off({
            mousemove: e
        }), clearInterval(t)
    }
    function j() {
        Window.on({
            mousemove: e
        }), clearInterval(t), t = setInterval(f, 1e3 / 60), e()
    }
    var k, l, m, n, o, p, q, r, s, t, u, v, w, x, y = !1;
    return {
        init: a,
        arrive: b,
        depart: c,
        destroy: g,
        pause: i,
        resume: j
    }
}
function DetailSection() {
    function a(a) {
        $body.data("isSlideDetail", ""), w = a ? a : $(".main_detail"), z = w.find(".detail_main"), A = w.find(".video"), B = w.find(".poster"), C = $("<div>").addClass("video_cover"), x = $(".navigation"), y = x.height(), D = w.find(".detail_info"), E = D.height(), Q = p(), Q.hide(), T = s(), a || D.hide(), Window.on({
            scroll: n,
            resize: o
        }), o();
        var b = A.find("script").html();
        A.html(b).find("video").addClass("vjs-default-skin");
        var c = "detail_video_" + location.hash.replace("#detail", "");
        w.find("#detail_video").removeAttr("id").attr("id", c), vjs(c, {
            controls: !0,
            width: Window.width - NAV_WIDTH_CLOSED,
            height: Window.height
        }, function () {
            K = this, z.append(C), J = z.find(".vjs-control-bar"), o(), $main.css({
                paddingBottom: 0
            })
        }), TweenMax.set(x.find("li"), {
            x: 62
        })
    }
    function b(a) {
        a.preventDefault(), M && (V = !0, K.pause())
    }
    function c(a) {
        a.preventDefault(), V && (V = !1, K.play())
    }
    function d() {
        $main.css({
            paddingBottom: 0,
            overflow: "auto",
            width: "auto"
        }), D.hide(), G && (G.remove(), I.remove()), H && H.remove(), K && (K.pause(), J.hide()), Q.hide()
    }
    function e() {
        router.trigger("off_nav"), K.on("ended", j), K.on("play", k), K.on("pause", l), K.on("volumechange", m), o(), W.lock(), D.show(), Q.show(), L = new TweenMax.fromTo(J, 3, {
            backgroundPositionX: 0
        }, {
            backgroundPositionX: "120px",
            repeat: -1,
            ease: Linear.easeNone
        }), R = r(), C.show(), T.spin($(".video").get(0)), setTimeout(function () {
            T.spin($(".vjs-loading-spinner").get(0)), setTimeout(function () {
                C.transit({
                    opacity: 0
                }, 800), B.transit({
                    opacity: 0
                }, 1e3).promise().done(function () {
                    router.trigger("on_nav"), B.hide(), W.unlock(), x.find("a").on("click", q), K.play(), K.volume(lastVolume), K.muted(muted), $window.on({
                        blur: b,
                        focus: c
                    }), C.hide().css({
                        left: 0,
                        top: 0,
                        width: "100%",
                        height: "100%",
                        opacity: 1
                    }), $body.css("overflowY", "auto"), X = !0
                })
            }, 500)
        }, 1e3), $.ajax({
            url: "works.html",
            dataType: "html"
        }).done(g), o()
    }
    function f() {
        Q.destroy(), K && K.dispose(), T && T.stop(), Window.off({
            scroll: n,
            resize: o
        }), $window.off({
            blur: b,
            focus: c
        }), K = null, N = !1, R = null, M = !1, P = !1, X = !1
    }
    function g(a) {
        H = $("<div>").attr("id", "worksMaskId"), G = $($(a).filter("main").html());
        var b = {
            position: "absolute",
            width: Window.width - NAV_WIDTH_CLOSED,
            height: Window.height,
            left: 0,
            bottom: 0,
            scale: .52,
            opacity: .3,
            overflow: "hidden"
        };
        G.css(b), H.css(b).css("z-index", 20), $main.append(H), $main.append(G);
        var c = 350,
            d = G.find(">ul li").length,
            e = Math.ceil(Math.sqrt(d));
        G.find("ul").css({
            width: c * e
        }), I = $("<h1>").css({
            position: "absolute",
            left: (Window.width - NAV_WIDTH_CLOSED) / 2 - SVG_WIDTH / 2,
            top: Window.height / 2 - SVG_HEIGHT / 2,
            width: SVG_WIDTH,
            height: SVG_HEIGHT,
            zIndex: 10
        }), I.append($("#svg_works").clone().removeAttr("id").eq(0)).find("svg").show(), $main.append(I), S = _.map(G.find(".panels a").toArray(), function (a) {
            return a.href.split("#").pop()
        })
    }
    function h() {
        A.stop().transit({
            transform: "rotateX(-30deg)"
        }, 400), N = !0, C.stop().fadeIn(300), J.hide(), K && K.pause()
    }
    function i() {
        A.stop().transit({
            transform: "rotateX(0deg)"
        }, 400), N = !1, C.stop().fadeOut(300), J.show()
    }
    function j() {
        M = !1, O = !1, x.show(), TweenMax.staggerTo(x.find("li"), .5, {
            x: 0,
            ease: Back.easeOut
        }, .1), L.pause()
    }
    function k() {
        M = !0, i(), O = !1, TweenMax.to(x.find("li"), .2, {
            x: 62
        }), L.play()
    }
    function l() {
        M = !1, O = !0, L.pause()
    }
    function m() {
        muted = K.muted(), lastVolume = K.volume()
    }
    function n() {
        if (Window.scrollTop > y ? Window.scrollTop > F ? x.css({
            top: Window.scrollTop
        }) : F + E < Window.scrollTop ? x.css({
            top: Window.scrollTop
        }) : (x.addClass("black"), x.css({
            top: F
        })) : (x.removeClass("black"), x.css({
            top: Window.height + Window.scrollTop - y
        })), z.css({
            top: Window.scrollTop
        }), R && R.onScroll(), Window.scrollTop < 1) return void(N && (i(), O || (K.play(), TweenMax.to(x.find("li"), .2, {
            x: 62
        }))));
        var a = Math.max(Window.documentHeight, 1500);
        (Window.scrollTop + Window.height >= a || Window.scrollTop >= G.offset().top) && ($main.css({
            paddingBottom: 0
        }), window.scrollTo(0, 0), w.hide(), Window.off("scroll", n), TweenMax.fromTo(I.find(".path"), 1.4, {
            opacity: 0
        }, {
            "stroke-dashoffset": 0,
            opacity: 1,
            onComplete: function () {
                I.fadeOut(750), $main.data("isSlideDetail", !0), router.departFor("works", "detail_bottom"), f()
            }
        })), M && (K.pause(), setTimeout(function () {
            O = !1
        }, 0)), N || (h(), x.show(), TweenMax.staggerTo(x.find("li"), .5, {
            x: 0,
            ease: Back.easeOut
        }, .1)), Window.scrollTop > Window.height ? z.hide() : z.show()
    }
    function o() {
        X && window.$main.css("overflowY", "hidden"), $main.css({
            width: Window.width - NAV_WIDTH_CLOSED
        }), Window.width <= parseInt($body.css("min-width"), 10) ? $body.css("overflowX", "auto") : $body.css("overflowX", "hidden");
        var a = Window.width - NAV_WIDTH_CLOSED,
            b = Window.height;
        F = D.offset().top, K && K.ready && K.width(a).height(Window.height);
        var c = 1600,
            d = 900;
        a / b > c / d ? (c = c * (b / d) + 3.2, d = b + 1.8) : (d = d * (a / c) + 1.8, c = a + 3.2), B.css({
            position: "absolute",
            left: (a - c) / 2,
            top: (b - d) / 2,
            width: c,
            height: d,
            zIndex: 1
        }), B.is(":visible") && C.css({
            left: (a - c) / 2,
            top: (b - d) / 2,
            width: c,
            height: d
        }), w.css({
            paddingTop: b
        }), $main.css({
            paddingBottom: b
        }), G && (G.css({
            width: Window.widt,
            height: Window.height
        }), I.css({
            left: (Window.width - NAV_WIDTH_CLOSED) / 2 - SVG_WIDTH / 2,
            top: Window.height / 2 - SVG_HEIGHT / 2
        }), H.css({
            width: Window.width,
            height: Window.height
        })), R && R.onResize()
    }
    function p() {
        function a() {
            d.show()
        }
        function b() {
            d.hide()
        }
        function c() {
            g.kill()
        }
        var d = w.find(".instruction"),
            e = "img/detail_btn_03.png",
            f = $("<img>").attr("src", e).css({
                position: "absolute",
                left: "50%",
                top: 30,
                marginLeft: -18
            });
        d.append(f);
        var g = new TimelineMax({
            repeat: -1
        });
        return g.add(TweenMax.fromTo(f, 3, {
            top: 30
        }, {
            top: 55
        })), g.add(TweenMax.fromTo(f, .3, {
            opacity: 0
        }, {
            opacity: 1
        }), 0), g.add(TweenMax.fromTo(f, .8, {
            opacity: 1
        }, {
            opacity: 0
        }), 2.2), {
            show: a,
            hide: b,
            destroy: c
        }
    }
    function q(a) {
        a.preventDefault(), router.trigger("off_nav");
        var b = 0 === x.find("a").index(this),
            c = location.hash.substring(1),
            d = S.indexOf(c),
            e = b ? d - 1 : d + 1;
        0 > e ? e = S.length - 1 : e >= S.length && (e = 0);
        var f = S[e],
            g = b ? "detail_slide_right" : "detail_slide_left";
        H && H.remove(), i(), K.pause(), x.remove(), Window.off("scroll", n), D.find(".img").removeAttr("style"), Q.hide(), A.hide(), B.show().css({
            opacity: 1
        }), z.show().css({
            top: 0,
            width: B.width(),
            height: B.height()
        }), $body.css("overflow", "hidden"), $main.data("isSlideDetail", !0), router.departFor(f, g)
    }
    function r() {
        function a() {
            var a = Window.scrollTop + Window.height;
            _.each(e, function (b) {
                b.onScroll(a)
            })
        }
        function b() {
            _.each(e, function (a) {
                a.onResize()
            })
        }
        function c(a) {
            function b(a) {
                if (!e) {
                    if (n > a) return;
                    d()
                }
                TweenMax.set(j, {
                    y: Math.floor(-(a - n) * o)
                }), TweenMax.set(k, {
                    y: Math.floor(-(a - n) * p)
                })
            }
            function c() {
                e || (m = Window.height / 4, n = g.offset().top + m)
            }
            function d() {
                e = !0, f = new TimelineLite, f.add(TweenMax.fromTo(j, 1.2, {
                    opacity: 0,
                    "margin-top": 100
                }, {
                    opacity: 1,
                    "margin-top": 0
                })), f.add(TweenMax.fromTo(k, 2, {
                    y: 30,
                    opacity: 0,
                    "margin-top": 50,
                    x: -50
                }, {
                    y: 0,
                    opacity: 1,
                    "margin-top": 0,
                    x: 0
                }), "-0.3")
            }
            var e, f, g = $(a),
                h = g.find(">*"),
                i = h.eq(0),
                j = (h.eq(1), h.filter(".img")),
                k = h.not(".img"),
                l = j.find("img"),
                m = (parseInt(l.css("marginTop"), 10), Window.height / 4),
                n = g.offset().top + m,
                o = (i.is(".img"), .05 + Math.random() / 20),
                p = .8 * o * Math.random();
            return h.css({
                opacity: 0
            }), {
                onScroll: b,
                onResize: c
            }
        }
        var d = w.find(".detail_info .row"),
            e = _.map(d.toArray(), function (a) {
                return c(a)
            });
        return {
            onScroll: a,
            onResize: b
        }
    }
    function s() {
        var a = {
            lines: 9,
            length: 25,
            width: 2,
            radius: 15,
            corners: 0,
            rotate: 30,
            direction: 1,
            color: "#fff",
            speed: .9,
            trail: 100,
            shadow: !1,
            hwaccel: !1,
            className: "spinner",
            zIndex: 2e9,
            top: "50%",
            left: "50%"
        };
        return new Spinner(a)
    }
    function t() {
        M && (P = !0, U = K.volume(), v("out"))
    }
    function u() {
        P && (v("in"), P = !1)
    }
    function v(a) {
        function b() {
            e--, K.volume("out" === a ? K.volume() - g : K.volume() + g), setTimeout(function () {
                e > 0 ? b() : "out" === a && (K.pause(), K.volume(U))
            }, f)
        }
        var c = 1200,
            d = 24,
            e = c / 1e3 * d,
            f = 1e3 / d,
            g = U / e;
        "in" === a && (K.volume(0), K.play()), b()
    }
    var w, x, y, z, A, B, C, D, E, F, G, H, I, J, K, L, M, N, O, P, Q, R, S, T, U, V = !1,
        W = ScrollLocker(),
        X = (SideNav(), !1);
    return {
        init: a,
        depart: d,
        arrive: e,
        destroy: f,
        pause: t,
        resume: u
    }
}
var $window = $(window),
    $document = $(document),
    $body = $("body"),
    $main = $("main"),
    $nav = $("nav"),
    SVG_WIDTH = 612,
    SVG_HEIGHT = 792;
!
function () {
    function a() {
        function a(b, c) {
            if ("object" != typeof b) {
                d[b] || (d[b] = []);
                var e = d[b]; - 1 === e.indexOf(c) && e.push(c)
            } else for (var f in b) a(f, b[f])
        }
        function b(a, c) {
            if ("object" != typeof a) {
                if (d[a]) {
                    var e = d[a],
                        f = $.inArray(c, e); - 1 !== f && e.splice(f, 1)
                }
            } else for (var g in a) b(g, a[g])
        }
        function c(a, b) {
            var c = d[a];
            if (c && 0 !== c.length) {
                if (arguments[2]) var e = Array.prototype.slice.call(arguments, 1);
                for (var f = 0, g = c.length; g > f; f++) c[f] && (e ? c[f].apply(null, e) : c[f](b))
            }
        }
        var d = {};
        return {
            on: a,
            off: b,
            trigger: c
        }
    }
    function b() {
        function b() {
            var a = g.width(),
                b = g.height();
            k.width = Math.max(a, h), k.height = Math.max(b, i), k.contentWidth = Math.max(a, h), j.trigger("resize", a, b)
        }
        function c() {
            k.scrollTop = g.scrollTop() || window.pageYOffset || 0, k.scrollLeft = g.scrollLeft(), j.trigger("scroll")
        }
        function d(a) {
            k.mouseX = a.pageX, k.mouseY = a.pageY, j.trigger("mousemove")
        }
        function e() {
            j.trigger("mouseup")
        }
        function f() {
            k.documentHeight = $document.height()
        }
        var g = $(window),
            h = parseInt($body.css("min-width"), 10) || 0,
            i = parseInt($body.css("min-height"), 10) || 0,
            j = a(),
            k = {};
        return g.on({
            resize: b,
            scroll: c,
            mouseup: e
        }), $(document).on("mousemove", d), b(), c(), k.on = j.on, k.off = j.off, k.trigger = j.trigger, k.isFF = -1 !== navigator.userAgent.toLowerCase().indexOf("firefox"), setInterval(f, 500), f(), k
    }
    function c(a, b) {
        a.jquery ? a = a.offset().top : "number" != typeof a && (a = $(a).offset().top);
        var c = 600,
            d = null,
            e = "swing";
        b && (b.offset && (a += b.offset), b.duration && (c = b.duration), b.easing && (e = b.easing), b.complate && (d = b.complate)), $("html,body").animate({
            scrollTop: a
        }, c, e, d)
    }
    function d() {
        function a() {
            e = Window.scrollTop, $window.on({
                DOMMouseScroll: c,
                mousewheel: c
            }), Window.on("scroll", d)
        }
        function b() {
            $window.off({
                DOMMouseScroll: c,
                mousewheel: c
            }), Window.off("scroll", d)
        }
        function c(a) {
            a.preventDefault()
        }
        function d() {
            Window.scrollTop !== e && window.scrollTo(0, e)
        }
        var e;
        return {
            lock: a,
            unlock: b
        }
    }
    function e(a) {
        for (var b = a.length; --b;) {
            var c = Math.floor(Math.random() * (b + 1));
            if (b != c) {
                var d = a[b];
                a[b] = a[c], a[c] = d
            }
        }
        return a
    }
    window.EventDispatcher = a, window.WindowHelper = b, window.smoothScrollTo = c, window.ScrollLocker = d, window.shuffle = e
}();
var ameba;
!
function () {
    function a() {
        e.setup("bgCanvas");
        for (var a = d.num || Window.width * Window.height / 3e4, c = [], f = 0; a > f; f++) c.push(b());
        var g = !1;
        e.view.onFrame = function () {
            (g = !g) || c.forEach(function (a) {
                a.update()
            })
        }, initAmeba();
        var h = $("#bgCanvas");
        h.css({
            opacity: 0
        }), setTimeout(function () {
            h.transit({
                opacity: 1
            }, 300)
        }, 0)
    }
    function b() {
        function a() {
            f.position.x += Math.cos(g) * i, f.position.y += Math.cos(h) * i, g += j, h += j
        }
        var b = new e.Point(Window.width * Math.random(), Window.height * Math.random()),
            c = 1,
            f = new e.Path.Circle(b, c),
            g = 100 * Math.random(),
            h = 100 * Math.random(),
            i = d.speed * c * c,
            j = (.01 + .04 * Math.random()) / 3;
        return Math.random() < .05 && (j *= -1), f.fillColor = "#fff", {
            update: a
        }
    }
    function c() {
        var a = window.location.search.substr(1).split("&");
        if (0 === a.length) return {};
        for (var b = {}, c = 0; c < a.length; ++c) {
            var d = a[c].split("=");
            if (2 == d.length) {
                var e = d[0],
                    f = decodeURIComponent(d[1].replace(/\+/g, " "));
                isNaN(parseFloat(f)) || (f = parseFloat(f, 10)), b[e] = f
            }
        }
        return b
    }
    var d = c();
    d.speed || (d.speed = 1.2);
    var e = new paper.PaperScope;
    window.initCanvases = a
}();
var lastVolume = 1,
    muted = !1;
!
function () {
    function a() {
        function a() {
            setTimeout(function () {
                m.fadeOut(1e3), b()
            }, 200)
        }
        function b() {
            n.show().css({
                opacity: 0
            }).find("img").remove(), setTimeout(function () {
                TweenMax.to(n, 2, {
                    opacity: 1
                }), TweenMax.staggerFrom(n.find(".logo_box span"), 1.5, {
                    y: "-=30",
                    rotationY: 360,
                    rotationZ: 180,
                    scale: "2",
                    autoAlpha: 0,
                    ease: Back.easeOut
                }, .2), TweenMax.from(n.find(".logo_lines span"), 1, {
                    autoAlpha: 0,
                    x: "-=20",
                    skewX: 15,
                    ease: Back.easeOut,
                    delay: 2
                }), setTimeout(function () {
                    i.resolve()
                }, 3e3), setTimeout(function () {
                    window.progress.hide(), n.transit({
                        opacity: 0
                    }, 1e3, "easeOutQuart"), k.animate({
                        opacity: 0
                    }, 2e3, "easeInCubic").promise().done(function () {
                        k.hide(), $(".loading_progress").css({
                            left: NAV_WIDTH_CLOSED
                        }), clearInterval(p), c(), $main.find(".member, .service").find(".title,.more").fadeIn(800)
                    }), i.resolve()
                }, 4e3)
            })
        }
        function d() {
            k.css({
                height: Window.height
            }), m.css({
                top: (Window.height - 200) / 2
            }), n.css({
                top: (Window.height - 111) / 2
            })
        }
        function e(a) {
            h = a, f()
        }
        function f() {
            var b = Math.min(h, o.value) || 0;
            window.progress.setProgress(b), 1 === h && 1 === o.value && a()
        }
        function g() {
            var a = Math.floor(300 * Math.random()),
                b = Math.floor(300 * Math.random());
            l.css({
                backgroundPosition: a + "px " + b + "px"
            })
        }
        var h, i = $.Deferred(),
            j = 1e3,
            k = $(".preloader"),
            l = k.find(".preloader_bg"),
            m = k.find(".text").css({
                visibility: "visible"
            }),
            n = (k.find(".progress"), k.find(".logo")),
            o = {
                value: 0
            },
            p = setInterval(g, 1e3 / 24);
        Window.on("resize", d), d(), progress.show();
        var q = PageLoader();
        return q.on({
            progress: e
        }), q.load("index"), $(o).stop().animate({
            value: 1
        }, {
            duration: j,
            easing: "linear",
            step: f,
            complete: f
        }), i
    }
    function b() {
        $body.css({
            width: Window.width
        })
    }
    function c() {
        var a = window.navigator.userAgent.toLowerCase();
        if (-1 != a.indexOf("chrome") || -1 != a.indexOf("gecko")) {
            var b = "color:#f4f4f4;background:#161a1c;font-family: 'Lato', 'Hiragino Kaku Gothic ProN', ' ProN W3', Meiryo, , sans-serif;letter-spacing:1em;",
                c = b + "font-size:26px;font-weight:300;line-height:50px;padding:15px 15px 12px;";
            console.log("%cBe blurred for standing still.%c", c, "")
        }
    }
    function d() {
        var a, b = document.body,
            c = document.body.style.overflow;
        return b.style.overflow = "hidden", a = b.clientWidth, b.style.overflow = "scroll", a -= b.clientWidth, a || (a = b.offsetWidth - b.clientWidth), b.style.overflow = c, a
    }
    window.scrollTo(0, 0), window.NAV_WIDTH_CLOSED = 58, window.NAV_WIDTH_OPEN = 260;
    var e = window.navigator.userAgent.toLowerCase();
    if (window.IS_IE = -1 !== e.indexOf("msie") || -1 !== e.indexOf("trident") ? !0 : !1, window.SCROOL_BAR_WIDTH = d(), $.support.transition || ($.fn.transit = $.fn.animate), window.Window = WindowHelper(), window.progress = ProgressBar(), Window.on("resize", b), !location.hash || location.hash.match(/^#(index)?$/)) a().done(function () {
        window.initCanvases(), window.router = Router();
        SectionsManager(), SideNav();
        progress.listenToRouter(), $body.css({
            overfllow: "hidden"
        })
    });
    else {
        $(".loading_progress").css({
            left: NAV_WIDTH_CLOSED
        }), $(".preloader").hide(), window.initCanvases(), window.router = Router(); {
            EventDispatcher(), SectionsManager()
        }
        window.router.trigger("off_nav"), $body.css({
            overfllow: "hidden"
        }), progress.listenToRouter()
    }
}();